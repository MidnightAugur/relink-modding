{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Granblue Fantasy: Relink Modding","text":"<ul> <li> <p> Extracting Files</p> <p>Learn how to Extract and Mod GBFR files!</p> <p> Getting started</p> <p> Mod manager</p> </li> <li> <p> Modding Resources</p> <p>All the resources for your needs can be found here</p> <p> Asset Paths</p> <p> Entity Prefixes</p> <p> File Extensions &amp; Tools</p> <p> Model IDs</p> </li> <li> <p> Importing/Exporting Models</p> <p>Learn how to import models, or create &amp; export new game models</p> <p> Importing to Blender</p> <p> Exporting from Blender</p> </li> <li> <p> Texture Extraction/Modding</p> <p>Custom Textures, Texture Extraction, etc.</p> <p> Extracting/Creating Textures</p> <p> Extracting Granite Textures</p> </li> <li> <p> Discord</p> <p>Join the Discord for mods, guidance &amp; more!</p> <p></p> </li> <li> <p> Support / Contributing</p> <p>Support our work to allow us to make more things possible!</p> <p> Nenkai</p> <p> Ryn</p> <p> Improving the site</p> </li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>If you're like to improve the site, the repository is available here! Feel free to help out in any way.</p> <p>Everything uses easy-to-write markdown for documentation with a few additions that you can see in the Mkdocs Material reference.</p> <p>Visual Studio Code is recommended to easily edit and preview in real-time.</p> <p>Tip</p> <p>Feel free to join the Discord for guidance if needed.</p>"},{"location":"getting_started/extraction_modding/","title":"Getting Started","text":"<p>Welcome to the world of GBFR Modding! This is where we will go over the basics for modding the game.</p>"},{"location":"getting_started/extraction_modding/#game-files","title":"Game Files","text":"<p>Tip</p> <p>The game folder can be found under <code>&lt;Steam Folder&gt;\\steamapps\\common\\Granblue Fantasy Relink</code>.</p> <p>You should be able to find the following files/folders:</p> <ul> <li><code>data/</code> - This is where most sound files are.</li> <li><code>data.i/X</code> - These contain the actual game contents that you will first need to extract.</li> </ul> <p>In order to do so, install .NET 8.0, download GBFRDataTools and extract it preferably next to the game executable.</p>"},{"location":"getting_started/extraction_modding/#gbfrdatatools","title":"GBFRDataTools","text":""},{"location":"getting_started/extraction_modding/#extracting-files","title":"Extracting Files","text":"<p>GBFRDataTools is a command-line program that you need to run under the command prompt (<code>cmd</code> or Windows Terminal on Windows).</p> <p>In order to extract most game files, run it as such:</p> Command<pre><code>GBFRDataTools.exe extract-all -i &lt;path to data.i&gt; \n</code></pre> <p>Replace <code>&lt;path to data.i&gt;</code> to the path to the <code>data.i</code> file.</p> <p>It will take some time to extract.</p> <p>Note</p> <p>Not all files will be extracted, but most. You can see the current progress on the GBFRDataTools page.</p> <p>This is because none of the data files holds the path names for their contents and had to be guessed. If you'd like to contribute, the file list can be found here, and a file accessor logger can be found here</p>"},{"location":"getting_started/extraction_modding/#modding","title":"Modding","text":"Method 1: Using Mod Manager <p> Refer to the Mod Manager Page.</p> Method 2: Modding Manually <p>Warning</p> <p>It is important that you create a backup of <code>data.i</code> first. If you do not have one, you can verify game files integrity on Steam.</p> <p>To add or update contents, simply add them to the <code>data</code> folder. You should preserve the same paths.</p> <p>Example</p> <p>If you want to mod <code>system/table/ability.tbl</code>, drop it to the <code>data</code> folder as such: <pre><code>.\n\u251c\u2500 data/ # Always preserve game paths\n\u2502  \u2514\u2500 system/\n\u2502     \u2514\u2500 table/\n\u2502        \u2514\u2500 ability.tbl\n\u2502\n...\n</code></pre></p> <p>Then run the following command: Command<pre><code>GBFRDataTools.exe add-external-files -i &lt;path to data.i&gt; \n</code></pre></p> <p>Note</p> <p>If you are editing or adding files, you must re-run the command! You may also need to restore your original <code>data.i</code> if you've removed a file that was previously registed and wish to restore it.</p> <p>If you have successfully gotten your mod to work, congratulations!</p> Inner Workings <p>NOTE: This section only goes into detail as to how it all works and is completely optional.</p>"},{"location":"getting_started/extraction_modding/#new-files","title":"New Files","text":"<p>The <code>data.i</code> file is an index file. It holds all the information about the game's contents inside numbered <code>data</code> files. It is split in two types of content:</p> <ul> <li>Content inside archive files such as <code>data.0</code>, <code>data.1</code> and so on.</li> <li>Content outside archive files such as the sound files initially present inside the <code>data</code> folder.</li> </ul> <p>For some more notes:</p> <ul> <li><code>data.i</code> is a FlatBuffer file. The schema has been fully reverse-engineered.</li> <li>All file paths are hashed using XXHash64. Files are compressed using LZ4.</li> <li>The XXHash seed can be provided by the index file. It is set to 0 by default.</li> <li>All file hashes are ordered by their value for binary searching. Same for their descriptors within the index file, making it impossible to guess paths based on their order   inside data files.</li> <li>When modding, GBFRDataTools simply marks existing or new files as external files.</li> <li><code>data.2</code> is hardcoded to not be used.</li> </ul>"},{"location":"getting_started/mod_manager/","title":"Mod Manager","text":"<p>The Reloaded II mod manager combined with the Granblue Fantasy Relink Mod Manager mod is the primary way to manage mods for GBFR. It quickly handles what would normally be a multi-step process with GBFRDataTools for all managed mods.</p> <p>Warning</p> <p>The Mod Manager is currently incompatible with other hooking utilities such as SpecialK.</p>"},{"location":"getting_started/mod_manager/#reloaded-ii","title":"Reloaded II","text":"<p>From the latest Reloaded II release, either download Release.zip and extract, or download Setup.exe and run.</p> <p>Read the Quick Start Guide to set up Reloaded II for Granblue Fantasy Relink and to learn how to install mods.</p>"},{"location":"getting_started/mod_manager/#granblue-fantasy-relink-mod-manager","title":"Granblue Fantasy Relink Mod Manager","text":"<p> Download the Granblue Fantasy Relink Mod Manager. Extract the mod into <code>Reloaded-II\\Mods</code>.</p>"},{"location":"getting_started/mod_manager/#creating-mods-for-the-relink-manager","title":"Creating Mods for the Relink Manager","text":"<p>First, follow the Reloaded II Creating Mods tutorial for general information.</p> <p>In addition, all asset mods for Relink require the following setup:</p> <ul> <li>Set the Granblue Fantasy Relink Mod Manager as a dependency. Reloaded II will prompt you to set mod dependencies when creating the mod.</li> <li>Assets must be contained within <code>GBFR\\data</code>. For example, a mod for <code>model\\pl\\pl0101\\pl0101.minfo</code> must be located at <code>(Mod Directory)\\GBFR\\data\\model\\pl\\pl0101\\pl0101.minfo.</code></li> </ul> <p> An example mod can be found here.</p>"},{"location":"models/exporting/","title":"Model Exporting","text":"<p>Note</p> <p>Exporting requires basic knowledge of how to use Blender.</p>"},{"location":"models/exporting/#blender-plugin","title":"Blender Plugin","text":"<p>GBFRBlenderExporter is required for model exports. Download the latest release of the Exporter, not the Importer.</p> <p>In Blender:</p> <ul> <li>In Edit  Preferences  Add-ons</li> <li>Click <code>Install</code></li> <li>Select the zip file you just downloaded</li> <li>Make sure to tick <code>Granblue Fantasy Relink Mesh Exporter</code>.</li> </ul>"},{"location":"models/exporting/#flatbuffers","title":"Flatbuffers","text":"<ul> <li>Flatbuffers is required for exporting models. Download the latest binary for your operating system (e.g. Windows.flatc.binary.zip) and extract it anywhere.</li> <li>Once extracted, in the Blender Add-On Preferences window and expand the exporter add-on. At the bottom put in the path to the FlatBuffers <code>flatc.exe</code>.</li> </ul>"},{"location":"models/exporting/#exporting","title":"Exporting","text":"<p>In Blender:</p> <ul> <li>In File  Export  Granblue Fantasy Relink .mmesh</li> <li>Choose the path to export the mesh to. Make sure you have a copy of the original model's <code>.minfo</code> in this folder.<ul> <li>Do not have the original <code>.skeleton</code> or <code>.mmesh</code> in this folder, they will be overwritten.</li> </ul> </li> <li>The exported model will be placed in a new folder where you exported to called \"_Exported_MInfo\".</li> </ul> <p>This export will create a new set of <code>.minfo</code>, <code>.mmesh</code>, and <code>.skeleton</code> files, as well as a <code>.json</code> file. The <code>.json</code> file is only for debugging purposes. To put the model into the game's files, copy the <code>.mmesh</code> file into every LOD folder (<code>model_streaming\\lod0</code>, <code>model_streaming\\lod1</code>, etc). Also copy the exported <code>.minfo</code> into the corresponding model's folder (<code>model\\&lt;model type&gt;\\&lt;model name&gt;</code>). If you have modified the model's skeleton, copy it to the model's folder too.</p> Known Export Issues, Requirements, and Fixes"},{"location":"models/exporting/#to-check-for-errors-in-the-export-you-can-re-import-the-exported-file","title":"To check for errors in the export you can re-import the exported file.","text":""},{"location":"models/exporting/#issues-fixes","title":"Issues &amp; Fixes","text":"<ul> <li>Model's Geometry Explodes:<ul> <li>There is currently an issue with the exporter that if you edit all of the faces of the model in some way (merging verts by distance), that the mesh will explode.</li> <li>If you're doing significant edits, you need to keep at least 1 face of every material of the original mesh intact and untouched. You can just store these faces scaled down inside the model.</li> </ul> </li> <li>Only 1 mesh is allowed on the exported model, so join all meshes together by selecting them all and Pressing <code>CTRL+J</code>.</li> <li>Parts of the model are invisible in game:<ul> <li>You must keep the original order of Materials in the Materials tab. Compare it to when you first imported the model and sort accordingly.</li> </ul> </li> <li>Parts of the model are transparent in game:     Your mesh's normals are there are inverted, flip / recalculate your normals for affected areas.</li> <li>UVs look weird/distorted:<ul> <li>Due to an Exporter issue, you must split the geometry along all outer Edges of the UV islands. Best way to do this is select the outer edges of the UV islands, mark them as seams, then in the 3D view select all the seams and Split by selected.</li> </ul> </li> </ul>"},{"location":"models/exporting/#old-issues-that-should-now-auto-fix","title":"Old issues that should now Auto fix","text":"<ul> <li>Model is rotated 90 degrees forward:<ul> <li>Exported All Transforms for the model and Armature must be applied before export. Select all objects and press <code>CTRL+A &gt; All Transforms</code> to do this.<ul> <li>This is automatically applied to the mesh before export</li> </ul> </li> </ul> </li> <li>Parts of the mesh are stretching and not really following the bones:<ul> <li>You need to limit your total Vertex Group weights to <code>3</code>, then <code>Normalize All</code> your weights your weights.<ul> <li>This is automatically applied by the exporter on export. If it didn't work, parts of your mesh are missing weights, you can't have any geometry with 0 weight.</li> </ul> </li> </ul> </li> </ul>"},{"location":"models/exporting/#other","title":"Other","text":"<ul> <li>You can add bones to the armatures, but there is no guaruntee they will animate properly.</li> </ul>"},{"location":"models/importing/","title":"Model Importing","text":"<p>Note</p> <p>Importing requires Blender knowledge.</p>"},{"location":"models/importing/#blender-plugin","title":"Blender Plugin","text":"<p>GBFRBlenderImporter is required for model imports. Download the latest release of the Importer, not the Exporter.</p> <p>In Blender:</p> <ul> <li>In Edit  Preferences  Add-ons</li> <li>Click <code>Install</code></li> <li>Select the zip file you just downloaded</li> <li>Make sure to tick <code>Granblue Fantasy Relink Mesh Importer</code>.</li> </ul>"},{"location":"models/importing/#importing","title":"Importing","text":"<p>Tip</p> <ul> <li>Ensure that <code>.minfo</code>, <code>.mmesh</code> and <code>.skeleton</code> files are all in the same folder. You may need to copy the <code>.mmesh</code> over. Refer to Asset Paths for their location.</li> <li>Model heads/faces are split into their own files.</li> </ul> <p>In Blender:</p> <ul> <li>In File  Import  Granblue Fantasy Relink .minfo</li> <li>Select a .minfo file.</li> </ul> <p>Warning</p> <p> Refer to the Granite Texture Extraction page for getting model textures.</p>"},{"location":"resources/asset_paths/","title":"Asset Paths","text":""},{"location":"resources/asset_paths/#model-paths","title":"Model Paths","text":"<p>Refer to Entity Prefixes.</p> <ul> <li>Model Info/Skel: <code>model/{entity_type}/{entity_type}{id}/</code></li> <li>Model LOD/Meshes: <code>model_streaming/lod{lod_number}/</code></li> <li>Model Shadow LOD/Meshes: <code>model_streaming/shadowlod{lod_number}/</code></li> </ul>"},{"location":"resources/asset_paths/#ui-paths","title":"UI Paths","text":"<p>Tip</p> <p>Remove <code>fhd\\</code> for the 4k version.</p> <ul> <li>Startup Logo: <code>data\\ui\\fhd\\layouts\\title\\title\\noatlastextures</code></li> <li>Character Splasharts: <code>data\\ui\\fhd\\layouts\\common\\image_chara\\noatlastextures</code></li> <li>Character Chain Splasharts: <code>data\\ui\\fhd\\layouts\\common\\image_chain\\noatlastextures</code></li> <li>Dialogue Portraits: <code>data\\ui\\layouts\\common\\chara_voice\\noatlastextures</code></li> <li>ESC Menu: <code>data\\ui\\fhd\\layouts\\pause</code></li> <li>Spell Icons, UI Icons, Emotes etc.: <code>data\\ui\\fhd\\atlas</code></li> <li>Controller Buttons: <code>ui\\fhd\\atlas\\common_button_system.wtb</code></li> </ul>"},{"location":"resources/entity_prefixes/","title":"Entity Prefixes","text":""},{"location":"resources/entity_prefixes/#models","title":"Models","text":"<ul> <li><code>ba</code> -- Map objects animated</li> <li><code>bg</code> -- Map static props</li> <li><code>bh</code> -- Map breakable objects (?)</li> <li><code>ef</code> -- Effects</li> <li><code>em</code> -- Enemies</li> <li><code>et</code> -- Items (?)</li> <li><code>fe</code> -- Enemy Faces/Heads (?)</li> <li><code>fn</code> -- NPC Faces/Heads</li> <li><code>fp</code> -- Player Faces/Heads</li> <li><code>it</code> -- Some random models (?)</li> <li><code>np</code> -- NPC Bodies</li> <li><code>pl</code> -- Player Bodies</li> <li><code>tr</code> -- ???</li> <li><code>we</code> -- Enemy Weapons</li> <li><code>wn</code> -- NPC Weapons</li> <li><code>wp</code> -- Player Weapons</li> </ul>"},{"location":"resources/entity_prefixes/#scripting","title":"Scripting","text":"<p>ph - scripts &amp; more for global game phases quest - side quests st - scripting, sound, visual &amp; more data general areas </p>"},{"location":"resources/file_extensions/","title":"File Extensions","text":"Extension Name Can be viewed with Can be edited with <code>.bk2</code> Bink Video RAD Video Tools <code>.bnk</code> Wwise Bank Wwiser <code>.bxm</code> Binary XML Nier CLI Nier CLI <code>.evtb</code> Event Timeline Data - FlatBuffer <code>.gtp/gts</code> Granite Streamed Texture GraniteTextureReader N/A <code>.msg</code> MessagePack MsgPack2Json MsgPack2Json <code>.minfo</code> Model Info - FlatBuffer Flatbuffers <code>.mmat</code> Model Material - FlatBuffer Flatbuffers <code>.mmesh</code> Model Mesh Buffer GBFRBlenderImporter <code>.mot</code> Motion (Animations) GBFR2Blender2GBFR GBFR2Blender2GBFR <code>.pck</code> Wwise Pack QuickBMS + wwise_pck_extractor.bms <code>.tbl</code> System Database Table N/A (different per table) N/A <code>.wtb/.texture</code> Texture (UI mainly) F-SERVO F-SERVO"},{"location":"resources/model_ids/","title":"Model IDs","text":""},{"location":"resources/model_ids/#player-pl","title":"Player (pl)","text":"<pre><code>0000 -- Gran (Rebel)\n0001 -- Gran (original)\n0100 -- Djeeta (Rebel)\n0101 -- Djeeta (original)\n0200 -- Katalina\n0300 -- Rackam\n0400 -- Io\n0500 -- Eugen\n0600 -- Rosetta\n0700 -- Ferry \n0800 -- Lancelot\n0900 -- Vane\n1000 -- Percivale\n1100 -- Siegfried\n1200 -- Charlotta\n1300 -- Yodarha\n1400 -- Narmaya\n1500 -- Ghandagoza\n1600 -- Zeta\n1700 -- Vaseraga\n1800 -- Cagliostro\n1900 -- Id\n2000 -- Id (Transformation)\n</code></pre>"},{"location":"resources/model_ids/#npc-np","title":"NPC (np)","text":"<pre><code>0000 -- Lyria\n0100 -- Vyrn\n0200 -- Sierokarte\n0300 -- Rolan\n0400 -- Historiath\n0600 -- Zathba\n0700 -- Man\n0702 -- Old Man\n0900 -- Human Boy\n1000 -- Woman (?)\n1200 -- Erune Man\n1202 -- Dagger\n1300 -- Erune Woman\n1400 -- Harvin Man\n1402 -- Rilla\n1500 -- Woman (?)\n1600 -- Draph Man\n1602 -- Pops\n1700 -- Draph Woman\n1800 -- Mellose Acolyte\n1900 -- Seedhollow Soldier\n2000 -- Boy\n2100 -- Girl\n2200 -- Alliance Receptionist\n</code></pre>"},{"location":"resources/model_ids/#enemy-em","title":"Enemy (em)","text":"<pre><code>0000 -- Goblin Stormer/Bandit/Striker/Gatherer/Trooper/Savage Carrion-Eater\n0001 -- Goblin Witch Doctor/Hexer/Pyromancer\n0002 -- Goblin Tanker/Mud-Covered Swordsman\n0003 -- Goblin Archer/Frenzied Archer\n0004 -- Goblin Soldier/Gladiator/Rowdy Bord/Craver Janaf/Sandeater Gimza\n0005 -- Goblin Warrior/Greatshield Madbeat\n0100 -- Skeleton/Mossy Skeleton\n0101 -- Frosty Bones/Withered Holy Knight/Icy Hexblade\n0102 -- Gerasene\n0103 -- Scarmiglione\n0200 -- Timber Wolf/Sand Wolf/Ravenous Wolf\n0201 -- Goblin Wolfrider/Crimson Runner\n0300 -- Hornbird/Ominous Raptor/Crazed Crow/Minepecker\n0400 -- Wyvern\n0500 -- Quakadile\n0501 -- Blizzadile\n0502 -- Infernadile\n0600 -- Slime\n0601 -- Silverslime\n0602 -- Goldslime\n0603 -- King Silverslime\n0604 -- King Goldslime\n0605 -- Prismatic Slime\n0701 -- Cyaegha/Silent Watcher\n0706 -- Nazarbonju/Eternal Gaze\n0800 -- Flame Gyre\n0801 -- Aqua Gyre\n0802 -- Earth Gyre\n0803 -- Wind Gyre\n0804 -- Light Gyre\n0805 -- Dark Gyre\n0900 -- Fire Spirit/Trialbeast Flame Elemental/Phondam Elemental/Vayoi Elemental/Torchlight Spirit/Crimson Phantom/Ruby Phantom/Shimmering Flame\n0901 -- Water Effigy\n0902 -- Water Spirit/Elemental/Phantom\n0903 -- Wind Effigy\n1000 -- Aviaeth Saber/Aviaeth Trooper\n1001 -- Aviaeth Lancer\n1002 -- Aviaeth Archer\n1003 -- Aviaeth Flagbearer/Aviaeth Honor Guard\n1004 -- Inquisitor Rook/Aviaeth Dreadnaught/Galcia the Saved/Hardened Rynell\n1005 -- Reaper Avalan/Sinner Balgas/Aviaeth Avenger/Deluded Derleth\n1006 -- Aviaeth Crusader\n1100 -- Sword Veil Fellowship\n1200 -- Vaza'ite Raptor\n1300 -- Droita Sentinel\n1301 -- Droita Mother/Droita Mother (Assault)/Droita Cyclops Prototype\n1303 -- Droita Balsam/Torpedo Balsam\n1500 -- Rock Golem\n1600 -- Griffin/Wraithwing/Goblin Eater/Obsidian Raptor\n1800 -- Ancient Dragon/Frumious Bandersnatch/Ferocious Garamud\n1801 -- Vrazarek Firewyrm\n1802 -- Wilinus Icewyrm\n1803 -- Corvell Earthwyrm\n1804 -- Elusious Windwyrm\n1805 -- Radis Whitewyrm\n1806 -- Evyl Blackwyrm\n1900 -- Tayu'itar/Tayu'itar Mk II\n2000 -- Gallanza\n2100 -- Maglielle/Mysterious Swordsman\n2400 -- Lilith\n2500 -- Pincer\n2600 -- Cobra/Sand Reaper\n2700 -- Sir Barrold\n2800 -- Ominous Form/Vengeful Wraith/Calamitous Specter\n3100 -- Pyet-A\n7000 -- Proto Bahamut\n7100 -- Vulkan Bolla\n7110 -- Vulkan Bolla Nihilla\n7200 -- Furycane\n7210 -- Furycane Nihilla\n7300 -- Managarmr\n7310 -- Managarmr Nihilla\n7400 -- Excavallion\n7401 -- Talus Reactor\n7404 -- Spinal Core\n7406 -- Atlas Plug/Bolt/Primal Cylinder\n7407 -- Deltoid Reactor/Forearm Reactor\n7408 -- Coxa Reactor\n7409 -- Chest Reactor\n7500 -- Angra Mainyu\n7520 -- Daeva\n7530 -- Aka Manah\n7600 -- Bahamut Versa\n7603 -- Bahamut Core\n7610 -- Bahamut Versa Omega\n</code></pre>"},{"location":"resources/model_ids/#map-animated-ba","title":"Map Animated (ba)","text":"<pre><code>0350 -- Cat\n2103 -- Grapnel\n7200 -- Keeper\n7201 -- Watcher\n7210 -- Calamitous Vestiges\n7211 -- Calamitous Gate\n</code></pre>"},{"location":"resources/model_ids/#map-breakable-props-bh","title":"Map Breakable Props (bh)","text":"<pre><code>0002 -- Merchant's Cargo\n0003 -- Hallowed Ground\n0004 -- Barricade\n2002 -- 20mm Ether Autocannon\n2005 -- Control Unit\n</code></pre>"},{"location":"resources/model_ids/#player-weapons-wp","title":"Player Weapons (wp)","text":"<p>Source: <code>table/weapon.tbl</code> &amp; <code>table/text/en/text.json</code></p>"},{"location":"resources/model_ids/#captain-grandjeeta","title":"Captain (Gran/Djeeta)","text":"<pre><code>wp0000 - Traveller's Sword\nwp0001 - Durandal\nwp0002 - Sword of Eos\nwp0003 - Sword of Eos (Sword of Eos, the Star Key)\nwp0004 - Albacore Blade\nwp0005 - Ultima Sword\nwp0006 - Seven-Star Sword (Seven-Star Sword, Celestial)\nwp0010 - False Sword of the Apocalypse\nwp0100 - Partenza\n</code></pre>"},{"location":"resources/model_ids/#katalina","title":"Katalina","text":"<pre><code>wp0200 - Rukalsa\nwp0201 - Flame Rapier\nwp0202 - Murgleis (Murgleis, the Azure Oath)\nwp0203 - Luminiera Sword Omega\nwp0204 - Ephemeron\nwp0205 - Blutgang (Blutgang, Blade of Refuge)\nwp0290 - Ares\nwp0291 - Ares Sword\nwp0292 - Ares Shield\n</code></pre>"},{"location":"resources/model_ids/#rackam","title":"Rackam","text":"<pre><code>wp0300 - Flintspike\nwp0301 - Wheellock Axe\nwp0302 - Benedia (Benedia, Azure Ammunition)\nwp0303 - Tiamat Bolt Omega\nwp0304 - Stormcloud\nwp0305 - Freikugel (Freikugel, the Purifier)\nwp0370 - Shotgun\n</code></pre>"},{"location":"resources/model_ids/#io","title":"Io","text":"<pre><code>wp0400 - Little Witch Scepter\nwp0401 - Zhezl\nwp0402 - Gambanteinn (Gambanteinn, Staff of Hope)\nwp0403 - Colossus Cane Omega\nwp0404 - Tupsimati\nwp0405 - Caduceus (Caduceus, Immortal Coil)\n</code></pre>"},{"location":"resources/model_ids/#eugen","title":"Eugen","text":"<pre><code>wp0500 - Dreyse\nwp0501 - Matchlock\nwp0502 - Ak-4A (AK-4A, the Suppressor)\nwp0503 - Leviathan Muzzle\nwp0504 - Clarion\nwp0505 - Draconic Fire (Draconic Fire, Charring Breath)\nwp0590 - Thrown Grenade\n</code></pre>"},{"location":"resources/model_ids/#rosetta","title":"Rosetta","text":"<pre><code>wp0600 - Egoism\nwp0601 - Swordbreaker\nwp0602 - Love Eternal (Love Eternal, Forevermore)\nwp0603 - Rose Crystal Knife\nwp0604 - Cortana\nwp0605 - Dagger of Bahamut Coda (Primal Dagger of Bahamut Coda)\nwp0690 - Large Rose Vine\nwp0691 - Vine\nwp0692 - Large Vine\nwp0693 - Large Rose\nwp0694 - Large Leafy Vine\nwp0695 - Round Vine?\n</code></pre>"},{"location":"resources/model_ids/#ferry","title":"Ferry","text":"<pre><code>wp0700 - Geisterpeitche\nwp0701 - Leather Belt\nwp0702 - Ethereal Lasher (Ethereal Lasher, Fleeting End)\nwp0703 - Flame Lit Curl\nwp0704 - Live Wire\nwp0705 - Erinnerung (Erinnerung, From Beyond)\nwp0790 - Momo\nwp0791 - Fugee\nwp0792 - Nicola\nwp0793 - GeeGee\nwp0794 - Beppo\n</code></pre>"},{"location":"resources/model_ids/#lancelot","title":"Lancelot","text":"<pre><code>wp0800 - Altachiara\nwp0801 - Hoarfrost Blade Persius\nwp0802 - Blanc Comme Neige\nwp0803 - Vegalta\nwp0804 - Knight of Ice (Knight of Ice, the Silver Blur)\nwp0805 - Damascus Knife (Damascus Knife, the Unseen)\n</code></pre>"},{"location":"resources/model_ids/#vane","title":"Vane","text":"<pre><code>wp0900 - Alabarda\nwp0901 - Swan\nwp0902 - Treuer Krieger (Treuer Krieger, the Dauntless)\nwp0903 - Ukonvasara\nwp0904 - Blossom Axe\nwp0905 - Mjolnir (Mjolnir, Thunderous Crusher)\n</code></pre>"},{"location":"resources/model_ids/#percival","title":"Percival","text":"<pre><code>wp1000 - Flamberge\nwp1001 - Lohengrin\nwp1002 - Antwerp\nwp1003 - Joyeuse\nwp1004 - Lord of Flames (Lord of Flames, Exalted Reign)\nwp1005 - Gottfried (Gottfried, the White Fang)\n</code></pre>"},{"location":"resources/model_ids/#siegfried","title":"Siegfried","text":"<pre><code>wp1100 - IntergriIntegrityty\nwp1101 - Broadsword of Earth\nwp1102 - Ascalon (Ascalon, Dragon's Bane)\nwp1103 - Hrunting\nwp1104 - Windhose\nwp1105 - Balmung (Balmung, the Blue Blaze)\n</code></pre>"},{"location":"resources/model_ids/#charlotta","title":"Charlotta","text":"<pre><code>wp1200 - Claiomh Solais\nwp1201 - Arondight\nwp1202 - Claidheamh Soluis (Claidheamh Soluis, the Radiant)\nwp1203 - Ushumgal\nwp1204 - Sahrivar\nwp1205 - Galatine (Galatine, Trinity's Wrath)\n</code></pre>"},{"location":"resources/model_ids/#yodarha","title":"Yodarha","text":"<pre><code>wp1300 - Kiku-Ichimonji\nwp1301 - Asura\nwp1302 - Fudo-Kuniyuki (Fudo-Kuniyuki, Scarlet Glory)\nwp1303 - Higurashi\nwp1304 - Xeno Phantom Demon Blade\nwp1305 - Swordfish (Swordfish, Tipper of Scales)\n</code></pre>"},{"location":"resources/model_ids/#narmaya","title":"Narmaya","text":"<pre><code>wp1400 - Nakamaki Nodachi\nwp1401 - Kotetsu\nwp1402 - Venustas (Venustas, the Sacred Gift)\nwp1403 - Flourithium Blade\nwp1404 - Blade of Purification\nwp1405 - Ameno Habakiri (Ameno Habakiri, the Beheader)\nwp1470 - Blue Stance Sword\n</code></pre>"},{"location":"resources/model_ids/#ghandagoza","title":"Ghandagoza","text":"<pre><code>wp1500 - Brahma Gauntlet\nwp1501 - Rope Knuckles\nwp1502 - Crimson Finger\nwp1503 - Golden Fists of Ura (Golden Fists of Ura, No Mercy)\nwp1504 - Arkab\nwp1505 - Sky Piercer (Sky Piercer, the Apex Fist)\n</code></pre>"},{"location":"resources/model_ids/#zeta","title":"Zeta","text":"<pre><code>wp1600 - Spear of Arvess\nwp1601 - Sunspot Spear\nwp1602 - Brionac (Brionac, the Dominant)\nwp1603 - Gisla\nwp1604 - Huanglong Spear\nwp1605 - Gae Bulg (Gae Bulg, Impaler of Ruin)\nwp1690 - Extra Spear\n</code></pre>"},{"location":"resources/model_ids/#vaseraga","title":"Vaseraga","text":"<pre><code>wp1700 - Great Scythe Grynoth\nwp1701 - Alsarav\nwp1702 - Wurtzite Scythe (Wurtzite Scythe, Reaper's Hand)\nwp1703 - Soul Eater\nwp1704 - Cosmic Scythe\nwp1705 - Ereshkigal (Ereshkigal, Impending Doom)\n</code></pre>"},{"location":"resources/model_ids/#cagliostro","title":"Cagliostro","text":"<pre><code>wp1800 - Magnum Opus\nwp1801 - Dream Atlas\nwp1802 - Transmigration Tome (Transmigration Tome, Infinity)\nwp1803 - Sacred Codex\nwp1804 - Arshivelle\nwp1805 - Zosimos (Zosimos, the Unabridged Truth)\nwp1890 - Dash Dragon (Ouroboros)\nwp1892 - Statue Substitue\nwp1893 - Small Ult Dagger\nwp1894 - Ult Dagger\nwp1895 - Spear\nwp1896 - Chakram\nwp1897 - Blades\nwp1898 - Torch Hammer\n</code></pre>"},{"location":"resources/model_ids/#id","title":"Id","text":"<pre><code>wp1900 - Ragnarok\nwp1901 - Aviaeth Faussart\nwp1902 - Susanoo (Susanoo, the Condemner)\nwp1903 - Premium Sword\nwp1904 - Ecke Sachs\nwp1905 - Sword of Bahamut (Primal Sword of Bahamut)\n</code></pre>"},{"location":"resources/model_ids/#enemy-weapons-we","title":"Enemy Weapons (we)","text":"<pre><code>2110 -- Freikugel\n2111 -- Mjolnir\n2112 -- Caduceus\n2113 -- Gae Bulg\n3100 -- Firefly\n3101 -- Hutchison Generator\n7000 -- Skotadi\n7001 -- Fotia\n7002 -- Hydor\n7003 -- Edafos\n7004 -- Anemos\n7300 -- Nereid/Halimede\n</code></pre>"},{"location":"resources/formats/minfo/","title":"Model Info - .minfo","text":"<p><code>.minfo</code> is the main file for any model. It describes how many lods a model has, the materials to use, how to read the <code>.mmesh</code> file buffer &amp; more.</p> <p>This file is a FlatBuffer file. </p> <ul> <li>Flatbuffer Schema</li> <li>010 Editor Template</li> </ul>"},{"location":"resources/formats/minfo/#header","title":"Header","text":"Field Name Type Description Magic/Date uint Should be <code>20230729</code>, explicitly checked. Might correspond to a date, 2023/07/09. LODInfos LodInfo[] Parameters for each lod. Each index corresponds to a <code>data/model_streaming/lod{number}</code> entry. ShadowLODInfos LodInfo[] Parameters for each shadow lod. Each index corresponds to a <code>data/model_streaming/shadowlod{number}</code> entry. A4 float Unknown. May be related to LOD distance. SubMeshes SubMeshInfo[] List of submeshes. Addressed by lod infos. Materials MaterialInfo[] List of materials used. BonesToWeightIndices ushort[] An array that matches bone indices to weight indices. Any bones not in this list are non-deform. DeformBoneBoundaryBox BBox Appears to be a boundary box for every deform bone. Not sure what the purpose of this is. A9 Vec4 Unknown. A10 Unk_A10 Unknown. Used very rarely in bgXXXX files A11 Unk_A11 Unknown. A12 float Unknown. A13 float Unknown. A14 float Unknown. A15 float Unknown. A16 float Unknown. A17 float Unknown. A18 float Unknown. A19 float Unknown. A20 float Unknown. A21 byte Unknown. A22 byte Unknown. A23 byte Unknown. A24 byte Unknown. A25 byte Unknown. A26 byte Unknown. A27 byte Unknown. A28 byte Unknown. A29 byte Unknown. A30 byte Unknown. A31 byte Unknown. A32 byte Unknown."},{"location":"resources/formats/minfo/#lodinfo","title":"LODInfo","text":"<p>Contains information on how to read a specific .mmesh, depending on LOD.</p> <p>Anything polygon related are in terms of polygons times the number of vertices per polygon.  As all models are made of tris, these can be thought of as polygon index times 3.</p> Field Name Type Description MeshBuffer MeshBufferLocator Location of each mesh buffer. Chunks LodChunk[] Parameters for each lod. Each index corresponds to a <code>data/model_streaming/lod{number}</code> entry. VertCount uint Total of vertices for this lod mesh. PolyCountX3 uint The number of polygons (times 3) in the entire .mmesh. BufferTypes byte Bitflags determining what mesh buffers are contained in the LOD. 1 = Mesh data (vertex then indices), 2 = Vertex Weight Indices, 8 = Vertex Weights A6 byte Unknown."},{"location":"resources/formats/minfo/#meshbufferlocator","title":"MeshBufferLocator","text":"<p>A <code>.mmesh</code> is broken into different \"buffers\".</p> Field Name Type Description Offset uint64 Offset of the buffer within <code>.mmesh</code>. BoundaryBox BBox Size of the buffer within <code>.mmesh</code>."},{"location":"resources/formats/minfo/#lodchunk","title":"LodChunk","text":"Field Name Type Description Offset uint Beginning polygon index (times 3) for the chunk. Count uint Number of polygons (times 3) in the chunk. SubMeshID byte The index of the submesh the chunk belongs to. MaterialID byte The index of the material the chunk belongs to. A5 byte Unknown. A6 byte Unknown."},{"location":"resources/formats/minfo/#submeshinfo","title":"SubMeshInfo","text":"<p>All .minfos are comprised of one or more submeshes. These submeshes can be toggled on and off separately.</p> Field Name Type Description Name string Name of the sub mesh. BoundaryBox BBox A boundary box for the submesh."},{"location":"resources/formats/minfo/#materialinfo","title":"MaterialInfo","text":"<p>Contains all material slots.</p> Field Name Type Description Hash XXHash32Custom(str) Unknown String hash. May need to be unique. Also referenced in a few master.evtb files. A2 byte Unknown, likely bitflags."},{"location":"resources/formats/minfo/#unk_a10","title":"Unk_A10","text":"Field Name Type Description A1 XXHash32Custom(str) Unknown String hash. Not always used. A2 float Unknown. A3 byte Unknown. A4 byte Unknown."},{"location":"resources/formats/minfo/#unk_a11","title":"Unk_A11","text":"Field Name Type Description A1 int Unknown. A2 Vec3 (?) Unknown. A3 Vec3 (?) Unknown."},{"location":"textures/granite/","title":"Granite Textures","text":"<p>Most of the model textures are located inside the <code>granite</code> folder. These textures are generated by the Granite SDK which GBFR uses.</p> <p>In order to extract them, grab GraniteTextureReader.</p> <ul> <li>4k Textures: <code>granite/4k</code></li> <li>2k Textures: <code>granite/2k</code></li> </ul> <p>If you want to extract textures, run the following command:</p> Command<pre><code>GraniteTextureReader.exe extract-all -t &lt;path to gts&gt; -l &lt;layer number&gt;\n</code></pre> <ul> <li>Replace <code>&lt;path to gts&gt;</code> with the actual path to the <code>.gts</code> file</li> <li>Replace <code>&lt;layer number&gt;</code> with a layer number. The layer number is the type of content that you want to extract, such as:<ul> <li><code>-1</code> - All layers, use this by default to extract everything.</li> <li><code>0</code> - Albedo, regular model textures</li> <li><code>1</code> - Normal maps</li> <li><code>2/3</code> - RGB maps</li> </ul> </li> </ul> <p>Note</p> <p>You should be going through all three folders to extract all texture contents, but if you only need specific content; each GTS subfolder represents mostly a different kind of content:</p> <ul> <li><code>0/0.gts</code> - World Textures, Some Effects, Some Weapons</li> <li><code>1/1.gts</code> - NPC/Character &amp; Faces, Effects</li> <li><code>2/2.gts</code> - Eye/Iris</li> </ul>"},{"location":"textures/textures/","title":"UI Textures","text":"<p>Most UI (&amp; other) textures are contained within <code>.wtb</code> files - a carry-over from Platinum Games's texture format.</p> <p>To convert them to standard image formats and converting back, grab Nier CLI.</p> <ul> <li>To extract textures, simply drop any <code>.wtb</code> file into the executable. A folder will be created.</li> <li>To convert them back, drag the extracted folder into the tool's executable. This will overwrite the <code>.wtb</code> file.</li> </ul>"}]}