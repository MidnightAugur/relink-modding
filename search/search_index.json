{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Granblue Fantasy: Relink Modding","text":"<ul> <li> <p> Extracting Files</p> <p>Learn how to Extract and Mod GBFR files!</p> <p> Getting started</p> <p> Mod manager</p> </li> <li> <p> Modding Resources</p> <p>All the resources for your needs can be found here</p> <p> Asset Paths</p> <p> Entity Prefixes</p> <p> File Extensions &amp; Tools</p> <p> Model IDs</p> </li> <li> <p> Importing/Exporting Models</p> <p>Learn how to import models, or create &amp; export new game models</p> <p> Importing to Blender</p> <p> Exporting from Blender</p> </li> <li> <p> Texture Extraction/Modding</p> <p>Custom Textures, Texture Extraction, etc.</p> <p> Extracting/Creating Textures</p> <p> Extracting Granite Textures</p> </li> <li> <p> Discord</p> <p>Join the Discord for mods, guidance &amp; more!</p> <p></p> </li> <li> <p> Support / Contributing</p> <p>Support our work to allow us to make more things possible!</p> <p> Nenkai</p> <p> Ryn</p> <p> Improving the site</p> </li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>If you're like to improve the site, the repository is available here! Feel free to help out in any way.</p> <p>Everything uses easy-to-write markdown for documentation with a few additions that you can see in the Mkdocs Material reference.</p> <p>Visual Studio Code is recommended to easily edit and preview in real-time.</p> <p>Tip</p> <p>Feel free to join the Discord for guidance if needed.</p>"},{"location":"getting_started/extraction_modding/","title":"Getting Started","text":"<p>Welcome to the world of GBFR Modding! This is where we will go over the basics for modding the game.</p>"},{"location":"getting_started/extraction_modding/#game-files","title":"Game Files","text":"<p>Tip</p> <p>The game folder can be found under <code>&lt;Steam Folder&gt;\\steamapps\\common\\Granblue Fantasy Relink</code>.</p> <p>You should be able to find the following files/folders:</p> <ul> <li><code>data/</code> - This is where most sound files are.</li> <li><code>data.i/X</code> - These contain the actual game contents that you will first need to extract.</li> </ul> <p>In order to do so, install .NET 8.0, download GBFRDataTools and extract it preferably next to the game executable.</p>"},{"location":"getting_started/extraction_modding/#gbfrdatatools","title":"GBFRDataTools","text":""},{"location":"getting_started/extraction_modding/#extracting-files","title":"Extracting Files","text":"<p>GBFRDataTools is a command-line program that you need to run under the command prompt (<code>cmd</code> or Windows Terminal on Windows).</p> <p>In order to extract most game files, run it as such:</p> Command<pre><code>GBFRDataTools.exe extract-all -i &lt;path to data.i&gt; \n</code></pre> <p>Replace <code>&lt;path to data.i&gt;</code> to the path to the <code>data.i</code> file.</p> <p>It will take some time to extract.</p> <p>Note</p> <p>Not all files will be extracted, but most. You can see the current progress on the GBFRDataTools page.</p> <p>This is because none of the data files holds the path names for their contents and had to be guessed. If you'd like to contribute, the file list can be found here, and a file accessor logger can be found here</p>"},{"location":"getting_started/extraction_modding/#modding","title":"Modding","text":"Method 1: Using Mod Manager <p> Refer to the Mod Manager Page.</p> Method 2: Modding Manually <p>Warning</p> <p>It is important that you create a backup of <code>data.i</code> first. If you do not have one, you can verify game files integrity on Steam.</p> <p>To add or update contents, simply add them to the <code>data</code> folder. You should preserve the same paths.</p> <p>Example</p> <p>If you want to mod <code>system/table/ability.tbl</code>, drop it to the <code>data</code> folder as such: <pre><code>.\n\u251c\u2500 data/ # Always preserve game paths\n\u2502  \u2514\u2500 system/\n\u2502     \u2514\u2500 table/\n\u2502        \u2514\u2500 ability.tbl\n\u2502\n...\n</code></pre></p> <p>Then run the following command: Command<pre><code>GBFRDataTools.exe add-external-files -i &lt;path to data.i&gt; \n</code></pre></p> <p>Note</p> <p>If you are editing or adding files, you must re-run the command! You may also need to restore your original <code>data.i</code> if you've removed a file that was previously registed and wish to restore it.</p> <p>If you have successfully gotten your mod to work, congratulations!</p> Inner Workings <p>NOTE: This section only goes into detail as to how it all works and is completely optional.</p>"},{"location":"getting_started/extraction_modding/#new-files","title":"New Files","text":"<p>The <code>data.i</code> file is an index file. It holds all the information about the game's contents inside numbered <code>data</code> files. It is split in two types of content:</p> <ul> <li>Content inside archive files such as <code>data.0</code>, <code>data.1</code> and so on.</li> <li>Content outside archive files such as the sound files initially present inside the <code>data</code> folder.</li> </ul> <p>For some more notes:</p> <ul> <li><code>data.i</code> is a FlatBuffer file. The schema has been fully reverse-engineered.</li> <li>All file paths are hashed using XXHash64. Files are compressed using LZ4.</li> <li>The XXHash seed can be provided by the index file. It is set to 0 by default.</li> <li>All file hashes are ordered by their value for binary searching. Same for their descriptors within the index file, making it impossible to guess paths based on their order   inside data files.</li> <li>When modding, GBFRDataTools simply marks existing or new files as external files.</li> <li><code>data.2</code> is hardcoded to not be used.</li> </ul>"},{"location":"getting_started/mod_manager/","title":"Mod Manager","text":"<p>The Reloaded II mod manager combined with the Granblue Fantasy Relink Mod Manager mod is the primary way to manage mods for GBFR. It quickly handles what would normally be a multi-step process with GBFRDataTools for all managed mods.</p> <p>Warning</p> <p>The Mod Manager is currently incompatible with other hooking utilities such as SpecialK.</p>"},{"location":"getting_started/mod_manager/#reloaded-ii","title":"Reloaded II","text":"<p>From the latest Reloaded II release, either download Release.zip and extract, or download Setup.exe and run.</p> <p>Read the Quick Start Guide to set up Reloaded II for Granblue Fantasy Relink and to learn how to install mods.</p>"},{"location":"getting_started/mod_manager/#granblue-fantasy-relink-mod-manager","title":"Granblue Fantasy Relink Mod Manager","text":"<p> Download the Granblue Fantasy Relink Mod Manager. Extract the mod into <code>Reloaded-II\\Mods</code>.</p>"},{"location":"getting_started/mod_manager/#creating-mods-for-the-relink-manager","title":"Creating Mods for the Relink Manager","text":"<p>First, follow the Reloaded II Creating Mods tutorial for general information.</p> <p>In addition, all asset mods for Relink require the following setup:</p> <ul> <li>Set the Granblue Fantasy Relink Mod Manager as a dependency. Reloaded II will prompt you to set mod dependencies when creating the mod.</li> <li>Assets must be contained within <code>GBFR\\data</code>. For example, a mod for <code>model\\pl\\pl0101\\pl0101.minfo</code> must be located at <code>(Mod Directory)\\GBFR\\data\\model\\pl\\pl0101\\pl0101.minfo.</code></li> </ul> <p> An example mod can be found here.</p>"},{"location":"models/exporting/","title":"Model Exporting","text":"<p>Note</p> <p>Exporting requires basic knowledge of how to use Blender.</p>"},{"location":"models/exporting/#blender-plugin","title":"Blender Plugin","text":"<p>GBFRBlenderExporter is required for model exports. Download the latest release of the Exporter, not the Importer.</p> <p>In Blender:</p> <ul> <li>In Edit  Preferences  Add-ons</li> <li>Click <code>Install</code></li> <li>Select the zip file you just downloaded</li> <li>Make sure to tick <code>Granblue Fantasy Relink Mesh Exporter</code>.</li> </ul>"},{"location":"models/exporting/#flatbuffers","title":"Flatbuffers","text":"<ul> <li>Flatbuffers is required for exporting models. Download the latest binary for your operating system (e.g. Windows.flatc.binary.zip) and extract it anywhere.</li> <li>Once extracted, in the Blender Add-On Preferences window and expand the exporter add-on. At the bottom put in the path to the FlatBuffers <code>flatc.exe</code>.</li> </ul>"},{"location":"models/exporting/#exporting","title":"Exporting","text":"<p>In Blender:</p> <ul> <li>In File  Export  Granblue Fantasy Relink .mmesh</li> <li>Choose the path to export the mesh to. Make sure you have a copy of the original model's <code>.minfo</code> in this folder.<ul> <li>Do not have the original <code>.skeleton</code> or <code>.mmesh</code> in this folder, they will be overwritten.</li> </ul> </li> <li>The exported model will be placed in a new folder where you exported to called \"_Exported_MInfo\".</li> </ul> <p>This export will create a new set of <code>.minfo</code>, <code>.mmesh</code>, and <code>.skeleton</code> files, as well as a <code>.json</code> file. The <code>.json</code> file is only for debugging purposes. To put the model into the game's files, copy the <code>.mmesh</code> file into every LOD folder (<code>model_streaming\\lod0</code>, <code>model_streaming\\lod1</code>, etc). Also copy the exported <code>.minfo</code> into the corresponding model's folder (<code>model\\&lt;model type&gt;\\&lt;model name&gt;</code>). If you have modified the model's skeleton, copy it to the model's folder too.</p> Known Export Issues, Requirements, and Fixes"},{"location":"models/exporting/#to-check-for-errors-in-the-export-you-can-re-import-the-exported-file","title":"To check for errors in the export you can re-import the exported file.","text":""},{"location":"models/exporting/#issues-fixes","title":"Issues &amp; Fixes","text":"<ul> <li>Model's Geometry Explodes:<ul> <li>There is currently an issue with the exporter that if you edit all of the faces of the model in some way (merging verts by distance), that the mesh will explode.</li> <li>If you're doing significant edits, you need to keep at least 1 face of every material of the original mesh intact and untouched. You can just store these faces scaled down inside the model.</li> </ul> </li> <li>Only 1 mesh is allowed on the exported model, so join all meshes together by selecting them all and Pressing <code>CTRL+J</code>.</li> <li>Parts of the model are invisible in game:<ul> <li>You must keep the original order of Materials in the Materials tab. Compare it to when you first imported the model and sort accordingly.</li> </ul> </li> <li>Parts of the model are transparent in game:     Your mesh's normals are there are inverted, flip / recalculate your normals for affected areas.</li> <li>UVs look weird/distorted:<ul> <li>Due to an Exporter issue, you must split the geometry along all outer Edges of the UV islands. Best way to do this is select the outer edges of the UV islands, mark them as seams, then in the 3D view select all the seams and Split by selected.</li> </ul> </li> </ul>"},{"location":"models/exporting/#old-issues-that-should-now-auto-fix","title":"Old issues that should now Auto fix","text":"<ul> <li>Model is rotated 90 degrees forward:<ul> <li>Exported All Transforms for the model and Armature must be applied before export. Select all objects and press <code>CTRL+A &gt; All Transforms</code> to do this.<ul> <li>This is automatically applied to the mesh before export</li> </ul> </li> </ul> </li> <li>Parts of the mesh are stretching and not really following the bones:<ul> <li>You need to limit your total Vertex Group weights to <code>3</code>, then <code>Normalize All</code> your weights your weights.<ul> <li>This is automatically applied by the exporter on export. If it didn't work, parts of your mesh are missing weights, you can't have any geometry with 0 weight.</li> </ul> </li> </ul> </li> </ul>"},{"location":"models/exporting/#other","title":"Other","text":"<ul> <li>You can add bones to the armatures, but there is no guaruntee they will animate properly.</li> </ul>"},{"location":"models/importing/","title":"Model Importing","text":"<p>Note</p> <p>Importing requires Blender knowledge.</p>"},{"location":"models/importing/#blender-plugin","title":"Blender Plugin","text":"<p>GBFRBlenderImporter is required for model imports. Download the latest release of the Importer, not the Exporter.</p> <p>In Blender:</p> <ul> <li>In Edit  Preferences  Add-ons</li> <li>Click <code>Install</code></li> <li>Select the zip file you just downloaded</li> <li>Make sure to tick <code>Granblue Fantasy Relink Mesh Importer</code>.</li> </ul>"},{"location":"models/importing/#importing","title":"Importing","text":"<p>Tip</p> <ul> <li>Ensure that <code>.minfo</code>, <code>.mmesh</code> and <code>.skeleton</code> files are all in the same folder. You may need to copy the <code>.mmesh</code> over. Refer to Asset Paths for their location.</li> <li>Model heads/faces are split into their own files.</li> </ul> <p>In Blender:</p> <ul> <li>In File  Import  Granblue Fantasy Relink .minfo</li> <li>Select a .minfo file.</li> </ul> <p>Warning</p> <p> Refer to the Granite Texture Extraction page for getting model textures.</p>"},{"location":"resources/asset_paths/","title":"Asset Paths","text":""},{"location":"resources/asset_paths/#model-paths","title":"Model Paths","text":"<p>Refer to Entity Prefixes.</p> <ul> <li>Model Info/Skel: <code>model/{entity_type}/{entity_type}{id}/</code></li> <li>Model LOD/Meshes: <code>model_streaming/lod{lod_number}/</code></li> <li>Model Shadow LOD/Meshes: <code>model_streaming/shadowlod{lod_number}/</code></li> </ul>"},{"location":"resources/asset_paths/#ui-paths","title":"UI Paths","text":"<p>Tip</p> <p>Remove <code>fhd\\</code> for the 4k version.</p> <ul> <li>Startup Logo: <code>data\\ui\\fhd\\layouts\\title\\title\\noatlastextures</code></li> <li>Character Splasharts: <code>data\\ui\\fhd\\layouts\\common\\image_chara\\noatlastextures</code></li> <li>Character Chain Splasharts: <code>data\\ui\\fhd\\layouts\\common\\image_chain\\noatlastextures</code></li> <li>Dialogue Portraits: <code>data\\ui\\layouts\\common\\chara_voice\\noatlastextures</code></li> <li>ESC Menu: <code>data\\ui\\fhd\\layouts\\pause</code></li> <li>Spell Icons, UI Icons, Emotes etc.: <code>data\\ui\\fhd\\atlas</code></li> <li>Controller Buttons: <code>ui\\fhd\\atlas\\common_button_system.wtb</code></li> </ul>"},{"location":"resources/entity_prefixes/","title":"Entity Prefixes","text":""},{"location":"resources/entity_prefixes/#models","title":"Models","text":"<ul> <li><code>ba</code> -- Map objects animated</li> <li><code>bg</code> -- Map static props</li> <li><code>bh</code> -- Map breakable objects (?)</li> <li><code>ef</code> -- Effects</li> <li><code>em</code> -- Enemies</li> <li><code>et</code> -- Items (?)</li> <li><code>fe</code> -- Enemy Faces/Heads (?)</li> <li><code>fn</code> -- NPC Faces/Heads</li> <li><code>fp</code> -- Player Faces/Heads</li> <li><code>it</code> -- Some random models (?)</li> <li><code>np</code> -- NPC Bodies</li> <li><code>pl</code> -- Player Bodies</li> <li><code>tr</code> -- ???</li> <li><code>we</code> -- Enemy Weapons</li> <li><code>wn</code> -- NPC Weapons</li> <li><code>wp</code> -- Player Weapons</li> </ul>"},{"location":"resources/entity_prefixes/#scripting","title":"Scripting","text":"<p>ph - scripts &amp; more for global game phases quest - side quests st - scripting, sound, visual &amp; more data general areas </p>"},{"location":"resources/file_extensions/","title":"File Extensions","text":"Extension Name Can be viewed with Can be edited with <code>.bk2</code> Bink Video RAD Video Tools <code>.bnk</code> Wwise Bank Wwiser <code>.bxm</code> Binary XML Nier CLI Nier CLI <code>.evtb</code> Event Timeline Data - FlatBuffer <code>.gtp/gts</code> Granite Streamed Texture GraniteTextureReader N/A <code>.msg</code> MessagePack MsgPack2Json MsgPack2Json <code>.minfo</code> Model Info - FlatBuffer Flatbuffers <code>.mmat</code> Model Material - FlatBuffer Flatbuffers <code>.mmesh</code> Model Mesh Buffer GBFRBlenderImporter <code>.mot</code> Motion (Animations) GBFR2Blender2GBFR GBFR2Blender2GBFR <code>.pck</code> Wwise Pack QuickBMS + wwise_pck_extractor.bms <code>.tbl</code> System Database Table N/A (different per table) N/A <code>.wtb/.texture</code> Texture (UI mainly) F-SERVO F-SERVO"},{"location":"resources/model_ids/","title":"Model IDs","text":""},{"location":"resources/model_ids/#player-pl","title":"Player (pl)","text":"<pre><code>0000 -- Gran (Rebel)\n0001 -- Gran (original)\n0100 -- Djeeta (Rebel)\n0101 -- Djeeta (original)\n0200 -- Katalina\n0300 -- Rackam\n0400 -- Io\n0500 -- Eugen\n0600 -- Rosetta\n0700 -- Ferry \n0800 -- Lancelot\n0900 -- Vane\n1000 -- Percivale\n1100 -- Siegfried\n1200 -- Charlotta\n1300 -- Yodarha\n1400 -- Narmaya\n1500 -- Ghandagoza\n1600 -- Zeta\n1700 -- Vaseraga\n1800 -- Cagliostro\n1900 -- Id\n2000 -- Id (Transformation)\n</code></pre>"},{"location":"resources/model_ids/#npc-np","title":"NPC (np)","text":"<pre><code>0000 -- Lyria\n0100 -- Vyrn\n0200 -- Sierokarte\n0300 -- Rolan\n0400 -- Historiath\n0600 -- Zathba\n0700 -- Man\n0702 -- Old Man\n0900 -- Human Boy\n1000 -- Woman (?)\n1200 -- Erune Man\n1202 -- Dagger\n1300 -- Erune Woman\n1400 -- Harvin Man\n1402 -- Rilla\n1500 -- Woman (?)\n1600 -- Draph Man\n1602 -- Pops\n1700 -- Draph Woman\n1800 -- Mellose Acolyte\n1900 -- Seedhollow Soldier\n2000 -- Boy\n2100 -- Girl\n2200 -- Alliance Receptionist\n</code></pre>"},{"location":"resources/model_ids/#enemy-em","title":"Enemy (em)","text":"<pre><code>0000 -- Goblin Stormer/Bandit/Striker/Gatherer/Trooper/Savage Carrion-Eater\n0001 -- Goblin Witch Doctor/Hexer/Pyromancer\n0002 -- Goblin Tanker/Mud-Covered Swordsman\n0003 -- Goblin Archer/Frenzied Archer\n0004 -- Goblin Soldier/Gladiator/Rowdy Bord/Craver Janaf/Sandeater Gimza\n0005 -- Goblin Warrior/Greatshield Madbeat\n0100 -- Skeleton/Mossy Skeleton\n0101 -- Frosty Bones/Withered Holy Knight/Icy Hexblade\n0102 -- Gerasene\n0103 -- Scarmiglione\n0200 -- Timber Wolf/Sand Wolf/Ravenous Wolf\n0201 -- Goblin Wolfrider/Crimson Runner\n0300 -- Hornbird/Ominous Raptor/Crazed Crow/Minepecker\n0400 -- Wyvern\n0500 -- Quakadile\n0501 -- Blizzadile\n0502 -- Infernadile\n0600 -- Slime\n0601 -- Silverslime\n0602 -- Goldslime\n0603 -- King Silverslime\n0604 -- King Goldslime\n0605 -- Prismatic Slime\n0701 -- Cyaegha/Silent Watcher\n0706 -- Nazarbonju/Eternal Gaze\n0800 -- Flame Gyre\n0801 -- Aqua Gyre\n0802 -- Earth Gyre\n0803 -- Wind Gyre\n0804 -- Light Gyre\n0805 -- Dark Gyre\n0900 -- Fire Spirit/Trialbeast Flame Elemental/Phondam Elemental/Vayoi Elemental/Torchlight Spirit/Crimson Phantom/Ruby Phantom/Shimmering Flame\n0901 -- Water Effigy\n0902 -- Water Spirit/Elemental/Phantom\n0903 -- Wind Effigy\n1000 -- Aviaeth Saber/Aviaeth Trooper\n1001 -- Aviaeth Lancer\n1002 -- Aviaeth Archer\n1003 -- Aviaeth Flagbearer/Aviaeth Honor Guard\n1004 -- Inquisitor Rook/Aviaeth Dreadnaught/Galcia the Saved/Hardened Rynell\n1005 -- Reaper Avalan/Sinner Balgas/Aviaeth Avenger/Deluded Derleth\n1006 -- Aviaeth Crusader\n1100 -- Sword Veil Fellowship\n1200 -- Vaza'ite Raptor\n1300 -- Droita Sentinel\n1301 -- Droita Mother/Droita Mother (Assault)/Droita Cyclops Prototype\n1303 -- Droita Balsam/Torpedo Balsam\n1500 -- Rock Golem\n1600 -- Griffin/Wraithwing/Goblin Eater/Obsidian Raptor\n1800 -- Ancient Dragon/Frumious Bandersnatch/Ferocious Garamud\n1801 -- Vrazarek Firewyrm\n1802 -- Wilinus Icewyrm\n1803 -- Corvell Earthwyrm\n1804 -- Elusious Windwyrm\n1805 -- Radis Whitewyrm\n1806 -- Evyl Blackwyrm\n1900 -- Tayu'itar/Tayu'itar Mk II\n2000 -- Gallanza\n2100 -- Maglielle/Mysterious Swordsman\n2400 -- Lilith\n2500 -- Pincer\n2600 -- Cobra/Sand Reaper\n2700 -- Sir Barrold\n2800 -- Ominous Form/Vengeful Wraith/Calamitous Specter\n3100 -- Pyet-A\n7000 -- Proto Bahamut\n7100 -- Vulkan Bolla\n7110 -- Vulkan Bolla Nihilla\n7200 -- Furycane\n7210 -- Furycane Nihilla\n7300 -- Managarmr\n7310 -- Managarmr Nihilla\n7400 -- Excavallion\n7401 -- Talus Reactor\n7404 -- Spinal Core\n7406 -- Atlas Plug/Bolt/Primal Cylinder\n7407 -- Deltoid Reactor/Forearm Reactor\n7408 -- Coxa Reactor\n7409 -- Chest Reactor\n7500 -- Angra Mainyu\n7520 -- Daeva\n7530 -- Aka Manah\n7600 -- Bahamut Versa\n7603 -- Bahamut Core\n7610 -- Bahamut Versa Omega\n</code></pre>"},{"location":"resources/model_ids/#map-animated-ba","title":"Map Animated (ba)","text":"<pre><code>0350 -- Cat\n2103 -- Grapnel\n7200 -- Keeper\n7201 -- Watcher\n7210 -- Calamitous Vestiges\n7211 -- Calamitous Gate\n</code></pre>"},{"location":"resources/model_ids/#map-breakable-props-bh","title":"Map Breakable Props (bh)","text":"<pre><code>0002 -- Merchant's Cargo\n0003 -- Hallowed Ground\n0004 -- Barricade\n2002 -- 20mm Ether Autocannon\n2005 -- Control Unit\n</code></pre>"},{"location":"resources/model_ids/#player-weapons-wp","title":"Player Weapons (wp)","text":"<p>Source: <code>table/weapon.tbl</code> &amp; <code>table/text/en/text.json</code></p>"},{"location":"resources/model_ids/#captain-grandjeeta","title":"Captain (Gran/Djeeta)","text":"<pre><code>wp0000 - Traveller's Sword\nwp0001 - Durandal\nwp0002 - Sword of Eos\nwp0003 - Sword of Eos (Sword of Eos, the Star Key)\nwp0004 - Albacore Blade\nwp0005 - Ultima Sword\nwp0006 - Seven-Star Sword (Seven-Star Sword, Celestial)\nwp0010 - False Sword of the Apocalypse\nwp0100 - Partenza\n</code></pre>"},{"location":"resources/model_ids/#katalina","title":"Katalina","text":"<pre><code>wp0200 - Rukalsa\nwp0201 - Flame Rapier\nwp0202 - Murgleis (Murgleis, the Azure Oath)\nwp0203 - Luminiera Sword Omega\nwp0204 - Ephemeron\nwp0205 - Blutgang (Blutgang, Blade of Refuge)\nwp0290 - Ares\nwp0291 - Ares Sword\nwp0292 - Ares Shield\n</code></pre>"},{"location":"resources/model_ids/#rackam","title":"Rackam","text":"<pre><code>wp0300 - Flintspike\nwp0301 - Wheellock Axe\nwp0302 - Benedia (Benedia, Azure Ammunition)\nwp0303 - Tiamat Bolt Omega\nwp0304 - Stormcloud\nwp0305 - Freikugel (Freikugel, the Purifier)\nwp0370 - Shotgun\n</code></pre>"},{"location":"resources/model_ids/#io","title":"Io","text":"<pre><code>wp0400 - Little Witch Scepter\nwp0401 - Zhezl\nwp0402 - Gambanteinn (Gambanteinn, Staff of Hope)\nwp0403 - Colossus Cane Omega\nwp0404 - Tupsimati\nwp0405 - Caduceus (Caduceus, Immortal Coil)\n</code></pre>"},{"location":"resources/model_ids/#eugen","title":"Eugen","text":"<pre><code>wp0500 - Dreyse\nwp0501 - Matchlock\nwp0502 - Ak-4A (AK-4A, the Suppressor)\nwp0503 - Leviathan Muzzle\nwp0504 - Clarion\nwp0505 - Draconic Fire (Draconic Fire, Charring Breath)\nwp0590 - Thrown Grenade\n</code></pre>"},{"location":"resources/model_ids/#rosetta","title":"Rosetta","text":"<pre><code>wp0600 - Egoism\nwp0601 - Swordbreaker\nwp0602 - Love Eternal (Love Eternal, Forevermore)\nwp0603 - Rose Crystal Knife\nwp0604 - Cortana\nwp0605 - Dagger of Bahamut Coda (Primal Dagger of Bahamut Coda)\nwp0690 - Large Rose Vine\nwp0691 - Vine\nwp0692 - Large Vine\nwp0693 - Large Rose\nwp0694 - Large Leafy Vine\nwp0695 - Round Vine?\n</code></pre>"},{"location":"resources/model_ids/#ferry","title":"Ferry","text":"<pre><code>wp0700 - Geisterpeitche\nwp0701 - Leather Belt\nwp0702 - Ethereal Lasher (Ethereal Lasher, Fleeting End)\nwp0703 - Flame Lit Curl\nwp0704 - Live Wire\nwp0705 - Erinnerung (Erinnerung, From Beyond)\nwp0790 - Momo\nwp0791 - Fugee\nwp0792 - Nicola\nwp0793 - GeeGee\nwp0794 - Beppo\n</code></pre>"},{"location":"resources/model_ids/#lancelot","title":"Lancelot","text":"<pre><code>wp0800 - Altachiara\nwp0801 - Hoarfrost Blade Persius\nwp0802 - Blanc Comme Neige\nwp0803 - Vegalta\nwp0804 - Knight of Ice (Knight of Ice, the Silver Blur)\nwp0805 - Damascus Knife (Damascus Knife, the Unseen)\n</code></pre>"},{"location":"resources/model_ids/#vane","title":"Vane","text":"<pre><code>wp0900 - Alabarda\nwp0901 - Swan\nwp0902 - Treuer Krieger (Treuer Krieger, the Dauntless)\nwp0903 - Ukonvasara\nwp0904 - Blossom Axe\nwp0905 - Mjolnir (Mjolnir, Thunderous Crusher)\n</code></pre>"},{"location":"resources/model_ids/#percival","title":"Percival","text":"<pre><code>wp1000 - Flamberge\nwp1001 - Lohengrin\nwp1002 - Antwerp\nwp1003 - Joyeuse\nwp1004 - Lord of Flames (Lord of Flames, Exalted Reign)\nwp1005 - Gottfried (Gottfried, the White Fang)\n</code></pre>"},{"location":"resources/model_ids/#siegfried","title":"Siegfried","text":"<pre><code>wp1100 - IntergriIntegrityty\nwp1101 - Broadsword of Earth\nwp1102 - Ascalon (Ascalon, Dragon's Bane)\nwp1103 - Hrunting\nwp1104 - Windhose\nwp1105 - Balmung (Balmung, the Blue Blaze)\n</code></pre>"},{"location":"resources/model_ids/#charlotta","title":"Charlotta","text":"<pre><code>wp1200 - Claiomh Solais\nwp1201 - Arondight\nwp1202 - Claidheamh Soluis (Claidheamh Soluis, the Radiant)\nwp1203 - Ushumgal\nwp1204 - Sahrivar\nwp1205 - Galatine (Galatine, Trinity's Wrath)\n</code></pre>"},{"location":"resources/model_ids/#yodarha","title":"Yodarha","text":"<pre><code>wp1300 - Kiku-Ichimonji\nwp1301 - Asura\nwp1302 - Fudo-Kuniyuki (Fudo-Kuniyuki, Scarlet Glory)\nwp1303 - Higurashi\nwp1304 - Xeno Phantom Demon Blade\nwp1305 - Swordfish (Swordfish, Tipper of Scales)\n</code></pre>"},{"location":"resources/model_ids/#narmaya","title":"Narmaya","text":"<pre><code>wp1400 - Nakamaki Nodachi\nwp1401 - Kotetsu\nwp1402 - Venustas (Venustas, the Sacred Gift)\nwp1403 - Flourithium Blade\nwp1404 - Blade of Purification\nwp1405 - Ameno Habakiri (Ameno Habakiri, the Beheader)\nwp1470 - Blue Stance Sword\n</code></pre>"},{"location":"resources/model_ids/#ghandagoza","title":"Ghandagoza","text":"<pre><code>wp1500 - Brahma Gauntlet\nwp1501 - Rope Knuckles\nwp1502 - Crimson Finger\nwp1503 - Golden Fists of Ura (Golden Fists of Ura, No Mercy)\nwp1504 - Arkab\nwp1505 - Sky Piercer (Sky Piercer, the Apex Fist)\n</code></pre>"},{"location":"resources/model_ids/#zeta","title":"Zeta","text":"<pre><code>wp1600 - Spear of Arvess\nwp1601 - Sunspot Spear\nwp1602 - Brionac (Brionac, the Dominant)\nwp1603 - Gisla\nwp1604 - Huanglong Spear\nwp1605 - Gae Bulg (Gae Bulg, Impaler of Ruin)\nwp1690 - Extra Spear\n</code></pre>"},{"location":"resources/model_ids/#vaseraga","title":"Vaseraga","text":"<pre><code>wp1700 - Great Scythe Grynoth\nwp1701 - Alsarav\nwp1702 - Wurtzite Scythe (Wurtzite Scythe, Reaper's Hand)\nwp1703 - Soul Eater\nwp1704 - Cosmic Scythe\nwp1705 - Ereshkigal (Ereshkigal, Impending Doom)\n</code></pre>"},{"location":"resources/model_ids/#cagliostro","title":"Cagliostro","text":"<pre><code>wp1800 - Magnum Opus\nwp1801 - Dream Atlas\nwp1802 - Transmigration Tome (Transmigration Tome, Infinity)\nwp1803 - Sacred Codex\nwp1804 - Arshivelle\nwp1805 - Zosimos (Zosimos, the Unabridged Truth)\nwp1890 - Dash Dragon (Ouroboros)\nwp1892 - Statue Substitue\nwp1893 - Small Ult Dagger\nwp1894 - Ult Dagger\nwp1895 - Spear\nwp1896 - Chakram\nwp1897 - Blades\nwp1898 - Torch Hammer\n</code></pre>"},{"location":"resources/model_ids/#id","title":"Id","text":"<pre><code>wp1900 - Ragnarok\nwp1901 - Aviaeth Faussart\nwp1902 - Susanoo (Susanoo, the Condemner)\nwp1903 - Premium Sword\nwp1904 - Ecke Sachs\nwp1905 - Sword of Bahamut (Primal Sword of Bahamut)\n</code></pre>"},{"location":"resources/model_ids/#enemy-weapons-we","title":"Enemy Weapons (we)","text":"<pre><code>2110 -- Freikugel\n2111 -- Mjolnir\n2112 -- Caduceus\n2113 -- Gae Bulg\n3100 -- Firefly\n3101 -- Hutchison Generator\n7000 -- Skotadi\n7001 -- Fotia\n7002 -- Hydor\n7003 -- Edafos\n7004 -- Anemos\n7300 -- Nereid/Halimede\n</code></pre>"},{"location":"resources/formats/minfo/","title":"Model Info - .minfo","text":"<p><code>.minfo</code> is the main file for any model. It describes how many lods a model has, the materials to use, how to read the <code>.mmesh</code> file buffer &amp; more.</p> <p>This file is a FlatBuffer file. </p> <ul> <li>Flatbuffer Schema</li> <li>010 Editor Template</li> </ul>"},{"location":"resources/formats/minfo/#header","title":"Header","text":"Field Name Type Description magic uint Should be <code>20230729</code>, explicitly checked. Might correspond to a date, 2023/07/09. lods StreamLOD[] Parameters for each lod. Each index corresponds to a <code>data/model_streaming/lod{number}</code> entry. ShadowLODInfos StreamLOD[] Parameters for each shadow lod. Each index corresponds to a <code>data/model_streaming/shadowlod{number}</code> entry. a4 float Unknown. May be related to LOD distance. sub_meshes SubMeshInfo[] List of submeshes. Addressed by lod infos. materials MaterialInfo[] List of materials used. bones_to_weight_indices ushort[] An array that matches bone indices to weight indices. Any bones not in this list are non-deform. deform_bone_boundary_box BBox Appears to be a boundary box for every deform bone. Not sure what the purpose of this is. vec4_9 Vec4 Unknown. a10 Unk_A10 Unknown. Used very rarely in bgXXXX files vec3_11 Vec3 Unknown. float12 float Unknown. float13 float Unknown. float14 float Unknown. float15 float Unknown. float16 float Unknown. float17 float Unknown. float18 float Unknown. float19 float Unknown. float20 float Unknown. byte21 byte Unknown. byte22 byte Unknown. bool23 bool Unknown. bool24 bool Unknown. bool25 bool Unknown. bool26 bool Unknown. bool27 bool Unknown. bool28 bool Unknown. bool29 bool Unknown. bool30 bool Unknown. bool31 bool Unknown. bool32 bool Unknown."},{"location":"resources/formats/minfo/#streamlod","title":"StreamLOD","text":"<p>Contains information on how to read a specific .mmesh, depending on LOD.</p> <p>Anything polygon related are in terms of polygons times the number of vertices per polygon.  As all models are made of tris, these can be thought of as polygon index times 3.</p> Field Name Type Description mesh_buffers MeshBufferLocator Location of each mesh buffer. chunks LodChunk[] Parameters for each lod. Each index corresponds to a <code>data/model_streaming/lod{number}</code> entry. vertex_count uint Total of vertices for this lod mesh. poly_count_x3 uint The number of polygons (times 3) in the entire .mmesh. buffer_types byte Bitflags determining what mesh buffers are contained in the LOD. 1 = Mesh data (vertex then indices), 2 = Vertex Weight Indices, 8 = Vertex Weights a6 byte Unknown."},{"location":"resources/formats/minfo/#meshbufferlocator","title":"MeshBufferLocator","text":"<p>A <code>.mmesh</code> is broken into different \"buffers\".</p> Field Name Type Description offset uint64 Offset of the buffer within <code>.mmesh</code>. BoundaryBox BBox Size of the buffer within <code>.mmesh</code>."},{"location":"resources/formats/minfo/#lodchunk","title":"LodChunk","text":"Field Name Type Description offset uint Beginning polygon index (times 3) for the chunk. count uint Number of polygons (times 3) in the chunk. sub_mesh_id byte The index of the submesh the chunk belongs to. material_id byte The index of the material the chunk belongs to. a5 byte Unknown. a6 byte Unknown."},{"location":"resources/formats/minfo/#submeshinfo","title":"SubMeshInfo","text":"<p>All .minfos are comprised of one or more submeshes. These submeshes can be toggled on and off separately.</p> Field Name Type Description name string Name of the sub mesh. bbox BoundaryBox Boundary box for the sub mesh."},{"location":"resources/formats/minfo/#materialinfo","title":"MaterialInfo","text":"<p>Contains all material slots.</p> Field Name Type Description unique_name_hash XXHash32Custom(str) Unknown String hash. May need to be unique. Also referenced in a few master.evtb files. unk_flags byte Unknown, likely bitflags."},{"location":"resources/formats/minfo/#unk_a10","title":"Unk_A10","text":"Field Name Type Description unk_id XXHash32Custom(str) Unknown String hash. Not always used. a2 float Unknown. a3 byte Unknown. a4 byte Unknown."},{"location":"resources/formats/mmat/","title":"Material Info - .mmat","text":"<p><code>.mmat</code> represents all the materials for a model, it is a set of materials. It describes the textures to use, and the shaders linked to a material.</p> <p>This file is a FlatBuffer file. </p> <ul> <li>Flatbuffer Schema</li> <li>010 Editor Template</li> </ul>"},{"location":"resources/formats/mmat/#header","title":"Header","text":"Field Name Type Description magic uint Should be <code>20230727</code>, explicitly checked. Might correspond to a date, 2023/07/27. materials Material[] List of all materials in the material set. constant_buffers ConstantBuffer List of constant buffers. shader_param_float_data_pool float[] Float data for materials when their parameters uses floats/Vectors. byte5 byte Unknown. <code>em</code> files seem to use this. bool6 bool Unknown. bool7 bool Unknown."},{"location":"resources/formats/mmat/#material","title":"Material","text":"Field Name Type Description shader_params ShaderParamInfo[] Shader parameters, which shaders to use. texture_maps TextureMapInfo[] Textures to use. constant_buffer_indices uint Indices of which constant buffers to use. granite_params GraniteVirtualTextureStreamingInfo Granite SDK Texture streaming info. If not present, will load textures loose. unique_material_name_hash_maybe XXHash32Custom(str) Hash of the name of this material. shader_type byte Type of shader to use. shader_sub_type byte Sub-type of shader. unk_8 byte Unknown. Should be 0 to 3. bool9 bool Unknown. bool10 bool Unknown. bool11 bool Unknown. bool12 bool Unknown. Shader Type <p>Each shader type uses a different type of shader where different parameters and texture maps may be required to be provided. Refer to files which uses these types in the first place to provide the proper parameters to avoid a potential game crash.</p> <ul> <li>0 = player_silhouette? (sub-types: 7, 8)</li> <li>1 = player_silhouette2? (sub-types: 7, 8)</li> <li>2 = Eye shaders? (sub-types: 7, 8)</li> <li>3 = Face shaders? (sub-types: 0, 3, 7, 8)</li> <li>4 = Hair shaders? (sub-types: 0, 3, 7, 8)</li> <li>5 = Metal shaders (sub-types: 0, 3, 4, 5, 7, 8)</li> <li>7 = <code>elementallookdev</code> (sub-types: 7, 8)</li> <li>8 = <code>flowmap</code> (sub-types: 7, 8)</li> <li>9 = <code>foilage</code> (sub-types: 7, 8)</li> <li>10 = <code>glowingground</code> (sub-types: 7, 8)</li> <li>11 = <code>glowingmountain</code> (sub-types: 7, 8)</li> <li>12 = <code>ice</code> (sub-types: 2, 3, 7, 8)</li> <li>13 = <code>ice_2layer</code> (sub-types: 7, 8)</li> <li>14 = <code>lavafall</code> (sub-types: 7, 8)</li> <li>15 = <code>lucilius</code> (sub-types: 7, 8)</li> <li>16 = Not supported</li> <li>17 = <code>plantbillboard</code> (sub-types: 7, 8)</li> <li>18 = <code>plantmiddleview</code> (sub-types: 4, 7, 8)</li> <li>19 = <code>plantshake</code> (sub-types: 4, 7, 8)</li> <li>20 = <code>skycloud</code> (sub-types: 1, 7, 8)</li> <li>21 = <code>uberenv</code> (sub-types: 1, 7, 8)</li> <li>22 = <code>uberenv_layer2</code> (sub-types: 1, 7, 8)</li> <li>23 = <code>uberenv_layer2_plantpivotpainter</code> (sub-types: 1, 7, 8)</li> <li>24 = <code>uberenv_layer3</code> (sub-types: 1, 7, 8)</li> <li>25 = <code>uberenv_layer4</code> (sub-types: 1, 7, 8)</li> <li>26 = <code>uberenv_plantpivotpainter</code>? (sub-types: 4, 7, 8)</li> <li>27 = <code>uberenvtextureless</code>? (sub-types: 7, 8)</li> <li>28 = Not supported</li> <li>29 = <code>grid</code> (sub-types: 7, 8)</li> </ul> Shader Sub-Type <p>The sub-types supported depend on the main shader type.</p> <ul> <li>0 = vs_pbs_xxxxx/vs_pbs_sxxxx8_anime/vs_pbs_sxxxx/vs_pbs_sxxxx_anime</li> <li>1 = ?</li> <li>3 = outline (skinning)</li> <li>4 = shadow</li> <li>5 = shadow skinning mask (dp)</li> <li>6 = pointlight_shadow_mask</li> <li>7 = player silhouette or regular texture?</li> <li>8 = \"foward\" shaders?</li> </ul>"},{"location":"resources/formats/mmat/#shaderparaminfo","title":"ShaderParamInfo","text":"Field Name Type Description param_hash XXHash32Custom(str) Hashed shader parameter name. value_or_offset uint Value for the parameter. Note that when the type is <code>float/Vec2/Vec3/Vec4</code>, the value becomes an offset to <code>shader_param_float_data_pool</code>. value_type ShaderParamValueType Parameter value type. <p>Value Types</p> <ul> <li><code>U8</code> = 0,</li> <li><code>U16</code> = 1,</li> <li><code>F32</code> = 2,</li> <li><code>Vec2</code> = 3</li> <li><code>Vec3</code> = 4,</li> <li><code>Vec4</code> = 5</li> </ul>"},{"location":"resources/formats/mmat/#texturemapinfo","title":"TextureMapInfo","text":"Field Name Type Description shader_map_name_hash XXHash32Custom(str) Hashed map name passed to the shader. texture_name string Texture name. When granite is not in use, this will be mapped to <code>texture/4k/&lt;name&gt;.texture</code> or <code>texture/&lt;name&gt;.texture</code>."},{"location":"resources/formats/mmat/#granitevirtualtexturestreaminginfo","title":"GraniteVirtualTextureStreamingInfo","text":"Field Name Type Description page_file string Granite page file where textures for this material are located. layer_to_shader_map_name_hash XXHash32Custom(str)[] Shader map names. Each element will map to one layer in the granite file. For instance if element 0 is the hash of <code>g_AlbedoMap</code>, that means that <code>g_AlbedoMap</code> is located at layer 0. unk3 byte Unknown. unk4 byte Unknown. tile_set_number byte Tile set number where the page file is located. Up to 11 is supported, 0-2 is used."},{"location":"resources/formats/mmat/#constantbuffer","title":"ConstantBuffer","text":"<p>Unknown. This is indexed by <code>constant_buffer_indices</code> within materials.</p> Field Name Type Description buffer float[] Float buffer. unk_unique_param_name_hash XXHash32Custom(str) Unique name hash."},{"location":"resources/formats/mmat/#known-hashes","title":"Known Hashes","text":"Shader Maps <p>Strings can be found inside shaders.</p> <pre><code>enum ShaderMapTypeHash : uint\n{\n    Unk = 0,\n    g_5A2C820C             = 0x5A2C820C,\n    g_8A0507FB             = 0x8A0507FB,\n    g_AlbedoMap            = 0x3F2B4D59,\n    g_AlbedoMapFar         = 0x7847F758,\n    g_AlbedoMapMiddle      = 0x56C35C30,\n    g_AlbedoTex            = 0xE9AEA597,\n    g_AlbedoTex0           = 0x7D82DDEA,\n    g_AlbedoTex1           = 0x8FC0A070,\n    g_AlbedoTex2           = 0x19615C52,\n    g_AlbedoTex3           = 0xA697D782,\n    g_AreaMaskMap          = 0xD52525E5,\n    g_Base0Map             = 0x9EE04147,\n    g_Base1Map             = 0x46C247DB,\n    g_BottomErosion0Map    = 0xAD237ACF,\n    g_BottomErosion1Map    = 0x47DA21A1,\n    g_BumpMap              = 0xE19336DE,\n    g_BumpMaskMap          = 0x707A6889,\n    g_BumpNormalMap        = 0x9B7115C3,\n    g_Color0Map            = 0x7AF0C744,\n    g_Color1Map            = 0xC5089B10,\n    g_ContainerMap         = 0x6C92581E,\n    g_DetailNormalMap      = 0x71F4A50E,\n    g_DitherMap            = 0x0C914331,\n    g_EmissiveMap          = 0x5CDF6E8F,\n    g_EyeHighLightTexture  = 0x00B36A70,\n    g_EyeIrisTexture       = 0x637A19F3,\n    g_EyeWhiteTexture      = 0xAEDB57AE,\n    g_FlowMap              = 0x983C09F6,\n    g_IBLTexture           = 0x330CF7B7,\n    g_Large0Map            = 0xC56364D9,\n    g_Large1Map            = 0x9FEF4F43,\n    g_Layer1Map            = 0x7373F664,\n    g_Layer2Map            = 0x3779219E,\n    g_LowDetailMap         = 0xF8E10DF2,\n    g_LUT                  = 0x69DF53A1,\n    g_Mask0Map             = 0xDB972A87,\n    g_Mask1                = 0x847A6CBD,\n    g_Mask1Map             = 0x42904E14,\n    g_Mask2                = 0x6137BA13,\n    g_Mask2Map             = 0x2D04F715,\n    g_Mask3                = 0x35091AFA,\n    g_Mask4                = 0x393263EF,\n    g_MaskMap              = 0x63C1ED71,\n    g_MaskMap1             = 0x3DCC2032,\n    g_MaskTex              = 0xD19EA412,\n    g_MaskTex0             = 0xAE860AB0,\n    g_MaskTex1             = 0x3069DB65,\n    g_MaskTex2             = 0xEDD2D2AF,\n    g_MaskTex3             = 0x4CC0E7B6,\n    g_Middle0Map           = 0x38054382,\n    g_Middle1Map           = 0xB70FDCD5,\n    g_MROEMap              = 0x4905E4E4,\n    g_MROMap               = 0x7852D3FE,\n    g_Noise0Map            = 0x451D0F3A,\n    g_Noise1Map            = 0x62F4BBF8,\n    g_NoiseGradationMap    = 0xB21CCD8B,\n    g_NoiseMap             = 0x7159CBC3,\n    g_NoiseMaskMap         = 0x010A5EFA,\n    g_NormalMap            = 0xADBA7C37,\n    g_NormalMap1           = 0x1470B2FB,\n    g_NormalTex            = 0xE752FF91,\n    g_NormalTex0           = 0xB55D7961,\n    g_NormalTex1           = 0xFB542B74,\n    g_NormalTex2           = 0x295ED71A,\n    g_NormalTex3           = 0x82A0AA5A,\n    g_OffsetMask0Map       = 0x6ECBBABD,\n    g_OffsetMask1Map       = 0xAD768A4F,\n    g_ParallaxTexture      = 0x1EE34406,\n    g_SideErosion0Map      = 0x1EC206C2,\n    g_SideErosion1Map      = 0xE21BFE74,\n    g_SideNoiseMap         = 0xA7D31F31,\n    g_SparkleNormalMap     = 0x64E256E8,\n    g_UberColorNoiseMap    = 0xC19A4B09,\n    g_WindMaskMap          = 0x1DD2F116,\n}\n</code></pre> Shader Parameters <p>Strings can be found inside shaders.</p> <pre><code>enum ShaderParameterTypeNameHash : uint\n{\n    Unk = 0,\n    g_037BE4E5             = 0x037BE4E5,\n    g_EmissivePower        = 0x06CFE5A4,\n    g_0A05A26F             = 0x0A05A26F,\n    g_11664BFC             = 0x11664BFC,\n    g_EnableDiscardMask    = 0x24C1ABA9,\n    g_2AEDA6AD             = 0x2AEDA6AD,\n    g_2B5C866C             = 0x2B5C866C,\n    g_372C03F0             = 0x372C03F0,\n    g_UseIceEmissive0      = 0x3C966EE3,\n    g_4298F7E4             = 0x4298F7E4,\n    g_EnableOutLine        = 0x49D8C1B9,\n    g_53F49792             = 0x53F49792,\n    g_56346692             = 0x56346692,\n    g_IsUseAlbedoAlphaClip = 0x60F31A22,\n    g_IsUseDetailNormal    = 0x6C5CB9AC,\n    g_IsUseDitherMap       = 0x7920C84F,\n    g_EnableBooleanMask    = 0x920821E1,\n    g_92339519             = 0x92339519,\n    g_93D9F63A             = 0x93D9F63A,\n    g_SwayAmplitude        = 0x98EBBEC2,\n    g_9C83F56F             = 0x9C83F56F,\n    g_ContainerUse         = 0x9F1DA064,\n    g_A6EB1B34             = 0xA6EB1B34,\n    g_AB261CFA             = 0xAB261CFA,\n    g_AC6F995D             = 0xAC6F995D,\n    g_B0EA41D9             = 0xB0EA41D9,\n    g_B460A0F0             = 0xB460A0F0,\n    g_BAEF6920             = 0xBAEF6920,\n    g_C5BD3DED             = 0xC5BD3DED,\n    g_C9762248             = 0xC9762248,\n    g_UseIceEmissive       = 0xCA06A6B6,\n    g_TwoSided             = 0xD94F2821,\n    g_UseColorNoise        = 0xE208C4C4,\n    g_E56343C0             = 0xE56343C0,\n    g_EB6F1AE7             = 0xEB6F1AE7,\n}\n</code></pre>"},{"location":"resources/re/hashes/","title":"Hashes","text":"<p>The vast majority of the game and its executable uses hashed strings. This makes any reverse-engineering work tedious as strings cannot always be recovered, and decompilation work can be complicated without a hash list of sorts.</p> <p>Hashes can be found just about everywhere - in table files, in the executable as compile-time constants, inside model files, <code>prfb</code>/<code>matb</code>... and more.</p>"},{"location":"resources/re/hashes/#algorithm","title":"Algorithm","text":"<p>The algorithm is XXHash32 with some odd twist.</p> <p>C# code for it can be found here.</p>"},{"location":"resources/re/hashes/#hash-list","title":"Hash List","text":"<p>You can grab a zipped hash list here.</p> <p>It contains:</p> <ul> <li>Hashes for the majority of english words</li> <li>Hashes for most strings for all game files gathered with <code>strings2</code></li> <li>Hashes for most strings gathered from the executable (1.0.3) with <code>strings2</code></li> <li>Hashes for most strings gathered from NierAutomata.exe with <code>strings2</code></li> </ul>"},{"location":"resources/re/obj_id/","title":"Obj IDs","text":"<p>Not to be confused with Model IDs</p> <p>Object IDs are actual IDs of any object in the game. This also applies to PlatinumGames games. </p> <p>They are categorized as such:</p> <pre><code>0x1xxxx - pl\n0x2xxxx - em\n0x3xxxx - wp\n0x4xxxx - et\n0x5xxxx - ef\n0x7xxxx - it\n0x9xxxx - sc\n0xCxxxx - bg\n0xExxxx - bh\n0xFxxxx - ba\n0x100xxxx - fp\n0x101xxxx - fe\n0x102xxxx - fn\n0x103xxxx - we\n0x104xxxx - wn\n0x10Axxxx - np\n0x10Bxxxx - tr\n0x10Cxxxx - bt\n</code></pre> <p>Where the last <code>xxxx</code> is the actual ID for every category.</p> <p>Tip</p> <p>These IDs can be seen inside <code>objread</code> files.</p>"},{"location":"textures/granite/","title":"Granite Textures","text":"<p>Most of the model textures are located inside the <code>granite</code> folder. These textures are generated by the Granite SDK which GBFR uses.</p> <p>In order to extract them, grab GraniteTextureReader.</p> <ul> <li>4k Textures: <code>granite/4k</code></li> <li>2k Textures: <code>granite/2k</code></li> </ul> <p>If you want to extract textures, run the following command:</p> Command<pre><code>GraniteTextureReader.exe extract-all -t &lt;path to gts&gt; -l &lt;layer number&gt;\n</code></pre> <p>Warning</p> <p><code>-l</code> is a L, not a i/1.</p> <ul> <li>Replace <code>&lt;path to gts&gt;</code> with the actual path to the <code>.gts</code> file</li> <li>Replace <code>&lt;layer number&gt;</code> with a layer number. The layer number is the type of content that you want to extract, such as:<ul> <li><code>-1</code> - All layers, use this by default to extract everything.</li> <li><code>0</code> - Albedo, regular model textures</li> <li><code>1</code> - Normal maps</li> <li><code>2/3</code> - RGB maps</li> </ul> </li> </ul> <p>Note</p> <p>You should be going through all three folders to extract all texture contents, but if you only need specific content; each GTS subfolder represents mostly a different kind of content:</p> <ul> <li><code>0/0.gts</code> - World Textures, Some Effects, Some Weapons</li> <li><code>1/1.gts</code> - NPC/Character &amp; Faces, Effects</li> <li><code>2/2.gts</code> - Eye/Iris</li> </ul>"},{"location":"textures/textures/","title":"UI Textures","text":"<p>Most UI (&amp; other) textures are contained within <code>.wtb</code> files - a carry-over from Platinum Games's texture format.</p> <p>To convert them to standard image formats and converting back, grab Nier CLI.</p> <ul> <li>To extract textures, simply drop any <code>.wtb</code> file into the executable. A folder will be created.</li> <li>To convert them back, drag the extracted folder into the tool's executable. This will overwrite the <code>.wtb</code> file.</li> </ul>"}]}